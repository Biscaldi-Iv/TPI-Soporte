{% extends 'common/base.html' %}

{% block title %}
<title>Home -Just in Time</title>
{% endblock %}

{% block navbarbtns %}
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{{url_for('justintime.home')}}">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">{{ _('Usuario') }}</a>
          </li>
          <li>
            <div class="dropdown">
              <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-translate" viewBox="0 0 16 16">
                  <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/>
                  <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066 0 0 1-.415-.492 1.988 1.988 0 0 1-.94.31z"/>
                </svg>
                {{ _('Idioma')}}
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="/de/home"><img src="{{url_for('static',filename='de.png')}}" width="25" height="20"> {{ _('Aleman') }}</a>
                </li>
                <li>
                  <a class="dropdown-item" href="/es/home"><img src="{{url_for('static',filename='es.png')}}" width="25" height="20"> {{ _('Español') }}</a>
                </li>
                <li>
                  <a class="dropdown-item" href="/en/home"><img src="{{url_for('static',filename='en.jpg')}}" width="25" height="20"> {{ _('Ingles') }}</a>
                </li>
                <li>
                  <a class="dropdown-item" href="/it/home"><img src="{{url_for('static',filename='it.png')}}" width="25" height="20"> {{ _('Italiano') }}</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="nav-item">
              <form method="get" id="frmplay">
              <button id="btnplay" class="btn btn-success btn-md center-block" type="submit" formaction="{{url_for('justintime.rules')}}">{{ _('Jugar') }}</button>
            </form>
          </li>

        </ul>
          <li class="nav-item">
            <form method="get" id="logoutfrm">
              <button id="btnLogOut" class="btn btn-danger btn-md center-block" type="submit" formaction="{{url_for('justintime.logout')}}">{{ _('Cerrar Sesión') }}</button>
            </form>
          </li>
{% endblock %}


{% block index %}

<body>


<h1>{{ _('Bienvenido') }} {{user.username}}</h1>

<div class="container mt-3">
  <h2>{{ _('Top 10 global') }}</h2>        
  <table class="table table-dark table-hover">
    <thead>
      <tr>
        <th>{{ _('Usuario') }}</th>
        <th>{{ _('Fecha') }}</th>
        <th>{{ _('Puntuacion') }}</th>
      </tr>
    </thead>
    <tbody>
    {% for p in top10 %}
      <tr>
        <td>{{p.username}}</td>
        <td>{{p.fechaPuntuacion}}</td>
        <td>{{p.score}}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>


<div class="container mt-3">
  <h2>{{ _('Top 10 del jugador') }}</h2>        
  <table class="table table-dark table-hover">
    <thead>
      <tr>
        <th>{{ _('Usuario') }}</th>
        <th>{{ _('Fecha') }}</th>
        <th>{{ _('Puntuacion') }}</th>
      </tr>
    </thead>
    <tbody>
      {% for p in mytop %}
      <tr>
        <td>{{p.username}}</td>
        <td>{{p.fechaPuntuacion}}</td>
        <td>{{p.score}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

</body>
{% endblock %}

